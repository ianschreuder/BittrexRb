#!/usr/bin/env ruby

lib = File.expand_path("../../lib", __FILE__)
$LOAD_PATH.unshift(lib) unless $LOAD_PATH.include?(lib)

require 'bundler/setup'
require 'bittrex_rb'
require "pry"
load(::BittrexRb.root+"/config.rb")

BittrexRb.configure do |config|
  config.api_key     = '7037bea803504e339ac09034f18238b5'
  config.api_secret  = '206f8b2e052e44379af7306738f329c4'
  config.base_uri    = 'https://bittrex.com/api/'
end


c = ::BittrexRb::Client.new

# Test Orderbook
# x = c.public.order_book("BTC-LTC")
# o = x.bids.first
# p o

# Test setting a limit order
# y = c.market.buylimit("BTC-LTC", "10", 0.001)
# y = c.market.buylimit("BTC-LTC", "0.00000001", 0.00001)

# Test checking on an order
# uuid = "91e2277e-1a80-4ef5-bee2-21d22ba67558"
# o = c.account.getorder(uuid)

# p "BTC: #{c.account.balance("BTC")}"

binding.pry